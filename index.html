<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script> 
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
</head>
<body>
  <nav class="navbar navbar-dark bg-primary">
      <span class="navbar-brand mb-1 h1"><h1>Concession counter (Milkbar)</h1></span>  
  </nav>
  </br>
  <div class="row">
    <div class="col-sm-5">
        <div class="container">
          <div class="p-3 bg-primary text-white" style="text-align:center"><h2>Product</h2></div> 
            <div class="panel-body bg-danger" style="background-color:red; color: white">
              <form id="tbl-project">
                <div class="panel-body bg-light" style="color: white">
                   <table class="table table-bordered" style="color: black">
                       <tr>
                          <td>
                            <input type="checkbox" name="pos" value="Strawberry">
                            <label>Strawberry</label>
                          </td>
                          <td>
                            <input type="number" name="qty" id="qty" size="10px" min="0">
                          </td>
                          <td>
                            <select class="form-control" id="option" name="option" placeholder="option" required>
                              <option value="">Select Volume &#x25BC;</option>
                              <option value="1">Milliliters</option>
                              <option value="2">Liters</option>
                            </select>
                          </td>
                        </tr>
                        <tr>
                          <td>
                            <input type="checkbox" name="pos" value="Chocolate">
                            <label>Chocolate </label>
                          </td>
                          <td>
                            <input type="number" name="qty" size="10px" min="0">
                          </td>
                          <td>
                            <select class="form-control" id="option" name="option" placeholder="option" required>
                              <option value="">Select Volume &#x25BC;</option>
                              <option value="1">Milliliters</option>
                              <option value="2">Liters</option>
                            </select>
                          </td>
                        </tr>
                        <tr>
                          <td>
                            <input type="checkbox" name="pos" value="Coconut">
                            <label> Coconut</label>
                          </td>
                          <td>
                            <input type="number" name="qty" size="10px" min="0">
                          </td>
                          <td>
                            <select class="form-control" id="option" name="option" placeholder="option" required>
                              <option value="">Select Volume &#x25BC;</option>
                              <option value="1">Milliliters</option>
                              <option value="2">Liters</option>
                            </select>
                          </td>
                        </tr>
                        <tr>
                          <td>
                            <input type="checkbox" name="pos" value="Almond">
                            <label> Almond</label>
                          </td>
                          <td>
                            <input type="number" name="qty" size="10px" min="0">
                          </td>
                          <td>
                            <select class="form-control" id="option" name="option" placeholder="option" required>
                              <option value="">Select Volume &#x25BC;</option>
                              <option value="1">Milliliters</option>
                              <option value="2">Liters</option>
                            </select>
                          </td>
                        </tr>
                        <tr>
                          <td>
                            <input type="checkbox" name="pos" value="Vanilla">
                            <label> Vanilla</label>
                          </td>
                          <td>
                            <input type="number" name="qty" size="10px" min="0">
                          </td>
                          <td>
                            <select class="form-control" id="option" name="option" placeholder="option" required>
                              <option value="">Select Volume &#x25BC;</option>
                              <option value="1">Milliliters</option>
                              <option value="2">Liters</option>
                            </select>
                          </td>
                        </tr>
                        <tr>
                          <td>
                            <input type="checkbox" name="pos" value="Rice">
                            <label> Rice</label>
                          </td>
                          <td>
                            <input type="number" name="qty" size="10px" min="0">
                          </td>
                          <td>
                            <select class="form-control" id="option" name="option" placeholder="option" required>
                              <option value="">Select Volume &#x25BC;</option>
                              <option value="1">Milliliters</option>
                              <option value="2">Liters</option>
                            </select>
                          </td>
                        </tr>
                        <tr>
                          <td>
                            <input type="checkbox" name="pos" value="Soy">
                            <label> Soy</label>
                          </td>
                          <td>
                            <input type="number" name="qty" size="10px" min="0">
                          </td>
                          <td>
                            <select class="form-control" id="option" name="option" placeholder="option" required>
                              <option value="">Select Volume &#x25BC;</option>
                              <option value="1">Milliliters</option>
                              <option value="2">Liters</option>
                            </select>
                          </td>
                        </tr>
                    </table>
                    <div>                      
                      <button type="button" class="btn btn-primary m-4" onclick="Add()"  name="Ok" id="Ok"> Calculate &rarr;
                      </button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>     
          <div class="col-sm-4">
            <div class="container">
              <div class="list-group-item list-group-tem-action active bg-primary p-2" style="text-align:center; color:white;"><h2>Added Products</h2></div>
                <table id="tbl-item" class="table table-striped table-bordered" cellspacing="0" width="100%" style="text-align:center">
                  <thead>
                    <tr>
                      <th>Delete</th>
                      <th>Item</th>
                      <th>Price</th>
                      <th>Qty</th>
                      <th>Total</th>
                    </tr>
                  <tbody>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="col-sm-2" style="text-align:center">
              <div class="list-group-item list-group-item-action active" style="text-align:center"><h2>Amount</h2></div>
            <div>
              <input type="text" class="p-2" style="color: black; background: white; font-size: 25px;" id="total" name="total" placeholder="Total" required>
            </div>
            </br>
            <div>
                <input type="button" class="btn btn-warning" value="Reset &#8635;" name="reset" id="reset">
            </div>
          </div>
        </div>
  <script type="text/javascript">
      var tot = 0;
      var total = 0;

      var price = 0;
      function Add() {
  
        $("input[name='pos']:checked").each(function() {
          // Get the value
          let check = $(this).val();
        
  
          if (check == "Strawberry")
          {
            price = 300;
  
          }
          else if (check == "Chocolate")
          {
            price = 500;
          }
          else if (check == "Coconut")
          {
            price = 400;
          }
          else if (check == "Almond")
          {
            price = 300;
          }
          else if (check == "Vanilla")
          {
            price = 200;
          }
          else if (check == "Rice")
          {
            price = 100;
          }
          else if (check == "Soy")
          {
            price = 200;
          }
        
          var calamount=0;
  
          var qty = $(this).closest("tr").find('[name="qty"]').val() || 0;
  
  
          var optionchange = $(this).closest("tr").find("select");
            
            if (optionchange.val() == 2)
            {
              var calamount = (qty * price); // Liter
            }
            var minMilliliters = 100;
            if (optionchange.val() == 1)
            {
              qty = parseInt(qty); // Convert to integer
              if (qty % 10 !== 0 || qty < minMilliliters) { // Check if qty is a multiple of 10 and meets minimum
                  alert("Please enter a whole number of milliliters (at least " + minMilliliters + " and a multiple of 10).");
                  return; // Exit the function if validation fails
              }
              var calamount = parseFloat(qty / 1000 * price); // Mililiters
            }
  
          var table1 =
            "<tr>" +
            "<td><button type='button' name='record' class='btn btn-danger' onclick='deleterow(this)'>Delete &#128465;</td>" +
            "<td>" + check + "</td>" +
            "<td>" + price + "</td>" +
            "<td>" + qty + "</td>" +
            "<td>" + calamount.toFixed(2)  + "</td>" +
            "</tr>";
  
          total += Number(calamount);
          $('#total').val(total);
  
  
          $("#tbl-item tbody").append(table1);
  
        });
  
      }
  
      function deleterow(e) {
        total_cost = parseInt($(e).parent().parent().find('td:last').text(), 10);
        total -= total_cost;
        $('#total').val(total);
        $(e).parent().parent().remove();
      }
  
      $('#reset').click(function() {
        location.reload();
      });
  </script>
</body>
</html>